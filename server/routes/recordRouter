const { Router } = require("express");
const recordRouter = Router();
const recordController = require("../controllers/recordController");

recordRouter.use((res, req, next) => {
  console.log("router-level middleware, passed through record route");
  next();
});

// all route must be on top, otherwise all gets interpreted as a bad id
recordRouter.get("/all", recordController.fetchRecords);
recordRouter.get("/:id", recordController.fetchRecord);
recordRouter.patch("/:id", recordController.updateRecord);
recordRouter.delete("/:id", recordController.deleteRecord);
recordRouter.post("/", recordController.createRecord);

// implement later for client-side hydration?
// recordRouter.get("/", recordController.renderRecord);

module.exports = recordRouter;
